/** 
 * jibo-keyframes - APIs for runtime keyframe to animation generation
 * @version v1.0.1
 * Copyright (c) 2016, Jibo, Inc. All rights reserved.
 * All use of the Jibo SDK is subject to the Jibo SDK End User License Agreement (EULA) 
 * distributed herewith.  If you did not receive a copy of the EULA, you may view a
 * copy at https://developers.jibo.com/license.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jiboKeyframes=e()}}(function(){return function e(t,n,r){function o(u,l){if(!n[u]){if(!t[u]){var i="function"==typeof require&&require;if(!l&&i)return i(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var y=n[u]={exports:{}};t[u][0].call(y.exports,function(e){var n=t[u][1][e];return o(n?n:e)},y,y.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("semver"),l=r(u),i=e("./layers/BodyLayer"),f=r(i),y=e("./layers/EyeLayer"),c=r(y),s=e("./layers/OverlayLayer"),v=r(s),p=e("./layers/EyeTextureLayer"),d=r(p),b=e("./layers/OverlayTextureLayer"),_=r(b),h=e("./layers/BackgroundTextureLayer"),x=r(h),O=e("./layers/LEDLayer"),g=r(O),m=e("./layers/PixiLayer"),E=(r(m),e("./layers/EventLayer")),w=r(E),T=e("./layers/AudioLayer"),k=r(T),j=e("./utils/IDUtils"),B=r(j),P=e("./utils/Conversion"),C=r(P),J=e("./utils/Colors"),S=r(J),L=function(){function e(){o(this,e)}return a(e,null,[{key:"onLoad",value:function(t){t.version=t.version||"0.3.0","0.2.0"===t.version&&t.layers.forEach(function(e){e.id=B["default"].create()}),l["default"].lt(t.version,"0.4.0")&&t.layers.forEach(function(e){("Eye"===e.type||"Overlay"===e.type)&&e.keyframes.forEach(function(e){for(var t in e.value)"Scale"!==t&&"Rotate"!==t&&(e.value[t].x=C["default"].toPixelsX(e.value[t].x),e.value[t].y=C["default"].toPixelsY(e.value[t].y))})}),l["default"].lte(t.version,"0.4.0")&&t.layers.forEach(function(e){e.keyframes.forEach(function(e){for(var t in e.value)"Tween"===t&&"body"===e.value.Tween.value&&(e.value.Tween={display:"cubic in out",label:"Cubic Ease In Out",value:"cubicInOut"})})}),l["default"].lt(t.version,"0.5.0")&&t.layers.forEach(function(e){("Background Texture"===e.type||"Eye Texture"===e.type||"Overlay Texture"===e.type||"LED"===e.type)&&e.keyframes.forEach(function(e){e.value.Color=S["default"].hsvToRgb(e.value.Color.h,e.value.Color.s,e.value.Color.v)})}),l["default"].lt(t.version,"0.6.0")&&t.layers.forEach(function(e){("Overlay"===e.type||"Eye"===e.type)&&e.keyframes.forEach(function(e){for(var t in e.value)"Scale"!==t&&"undefined"!=typeof e.value[t].y&&(e.value[t].y=.06922346*e.value[t].y/.073142126)})}),t.version=e.defaults.version}}]),e}();L.layerTypes={Body:f["default"],Eye:c["default"],"Eye Texture":d["default"],Overlay:v["default"],"Overlay Texture":_["default"],"Background Texture":x["default"],LED:g["default"],Event:w["default"],"Audio Event":k["default"]},L.defaults={version:"0.6.0",framerate:30,duration:30,scale:1,layers:[{name:"Eye",type:"Eye"},{name:"Eye Texture",type:"Eye Texture"},{name:"Body",type:"Body"}]},n["default"]=L},{"./layers/AudioLayer":6,"./layers/BackgroundTextureLayer":7,"./layers/BodyLayer":8,"./layers/EventLayer":9,"./layers/EyeLayer":11,"./layers/EyeTextureLayer":12,"./layers/LEDLayer":13,"./layers/OverlayLayer":14,"./layers/OverlayTextureLayer":15,"./layers/PixiLayer":16,"./utils/Colors":19,"./utils/Conversion":20,"./utils/IDUtils":21,semver:void 0}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("fs"),i=r(l),f=e("lodash"),y=r(f),c=e("./utils/Tweening"),s=r(c),v=e("./utils/IDUtils"),p=r(v),d=e("./utils/Search"),b=r(d),_=e("./utils/BlendOperations"),h=r(_),x=function(){function e(){o(this,e)}return u(e,null,[{key:"create",value:function(e){var t={version:e.defaults.version,framerate:e.defaults.framerate,duration:e.defaults.duration,scale:e.defaults.scale,layers:[]};return e.defaults.layers.forEach(function(e){t.layers.push({id:p["default"].create(),name:e.name,type:e.type,visible:!0,locked:!1,keyframes:[]})}),t}},{key:"load",value:function(e,t){var n=JSON.parse(i["default"].readFileSync(e,"utf8"));return t.onLoad&&t.onLoad(n),n}},{key:"save",value:function(e,t){i["default"].writeFileSync(e,JSON.stringify(t,null,"    "),"utf8")}},{key:"_isEventLayer",value:function(e,t){if(e){var n=t.layerTypes[e.type];return n.isEvent()}return!1}},{key:"evaluateAllDOFLayers",value:function(t,n,r,o){var a=e.evaluateAllLayersFiltered(t,n,r,function(t){return!e._isEventLayer(t,n)},!1,o),u={};for(var l in a){var i=n.layerTypes[l],f=i.generateDofs(a[l]);for(var y in f)u[y]=f[y]}return u}},{key:"evaluateAllLayersFiltered",value:function(t,n,r,o,a,u){for(var l={},i=t.layers.length-1;i>=0;i--)if(o(t.layers[i])&&t.layers[i].visible){var f=void 0===u?void 0:u[t.layers[i].id],y=e.evaluateLayer(t.layers[i],t,n,r,f);if("undefined"==typeof l[t.layers[i].type])l[t.layers[i].type]=y;else{var c=l[t.layers[i].type],s=n.layerTypes[t.layers[i].type].getInfo();for(var v in y){var p=s.properties[v];try{c[v]=h["default"].normal(p.blendOperation,p.type)(c[v],y[v],p.defaultValue)}catch(d){i=0}}}}return l}},{key:"computeRelativePropValues",value:function(t,n,r,o,a,u){var l=e.evaluateAllLayersFiltered(n,r,o,function(e){return e.type===t.type&&e.id!==t.id},!0,u);if("undefined"==typeof l[t.type])return a;var i=r.layerTypes[t.type].getInfo(),f={};for(var y in a){var c=i.properties[y];f[y]=h["default"].inverse(c.blendOperation,c.type)(l[t.type][y],a[y],c.defaultValue)}return f}},{key:"evaluateLayer",value:function(t,n,r,o,a){if(e._isEventLayer(t,r))return e._evaluateEventLayer(t,n,r,o);var u={};if(a){for(var l in a)u[l]=a[l];return u}var i=r.layerTypes[t.type].getInfo();if(0===t.keyframes.length)for(var f in i.properties)u[f]=y["default"].cloneDeep(i.properties[f].defaultValue);else{void 0===n.scale&&(n.scale=r.defaults.scale);var c=o*n.framerate;if(1===t.keyframes.length||t.keyframes[0].time>=c)return y["default"].cloneDeep(t.keyframes[0].value);if(t.keyframes[t.keyframes.length-1].time<=c)return y["default"].cloneDeep(t.keyframes[t.keyframes.length-1].value);var v=b["default"].keyframeSearch(t.keyframes,c),p=v.start,d=v.end;p=t.keyframes[p],d=t.keyframes[d];var _=p.time,h=d.time,x=(c-_)/(h-_),O="cubicInOut";p.value.Tween&&(O=p.value.Tween.value);for(var g in p.value)"string"==typeof i.properties[g].type?u[g]=s["default"][i.properties[g].type](p.value[g],d.value[g],x,O):u[g]=s["default"][i.properties[g].type.name](p.value[g],d.value[g],x,O)}return u}},{key:"_evaluateEventLayer",value:function(e,t,n,r){var o=r*t.framerate,a=b["default"].keyframeSearchAbsolute(e.keyframes,o);if(void 0!==a)return y["default"].cloneDeep(e.keyframes[a].value);var u=n.layerTypes[e.type].getInfo(),l={};for(var i in u.properties)l[i]=y["default"].cloneDeep(u.properties[i].defaultValue);return l}},{key:"evaluateAllEventLayers",value:function(t,n,r){for(var o=[],u=t.layers.length,l=0;u>l;l++){var i=t.layers[l];if(e._isEventLayer(i,n)&&i.visible){var f=e.evaluateLayer(i,t,n,r);if(f){var y=n.layerTypes[i.type],c=y.generateEvent(f,l),s="undefined"==typeof c?"undefined":a(c);"object"===s&&y.isValid(c)&&o.push(c)}}}return o}}]),e}();n["default"]=x},{"./utils/BlendOperations":17,"./utils/IDUtils":21,"./utils/Search":23,"./utils/Tweening":24,fs:void 0,lodash:void 0}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return o(e,null,[{key:"getInfo",value:function(){throw"Implement static Layer.getInfo() to supply property meta data"}},{key:"isEvent",value:function(){throw"Implement static Layer.isEvent()"}}]),e}();n["default"]=a},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./BaseLayer"),f=r(i),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,null,[{key:"generateDofs",value:function(){throw"Implement static Layer.generateDofs()"}},{key:"isEvent",value:function(){return!1}}]),t}(f["default"]);n["default"]=y},{"./BaseLayer":3}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./BaseLayer"),f=r(i),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,null,[{key:"generateEvent",value:function(){throw"Implement static Layer.generateEvent()"}},{key:"isEvent",value:function(){return!0}},{key:"isValid",value:function(){throw"Implement static Layer.isValid(generedatedEvent)"}}]),t}(f["default"]);n["default"]=y},{"./BaseLayer":3}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/EventBaseLayer"),f=r(i),y={layerType:"Audio Event",properties:{AudioEvent:{type:"audio",defaultValue:{file:""}}}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateEvent",value:function(e){var t={name:"play-audio",payload:{file:e.AudioEvent.file}};return t}},{key:"isValid",value:function(e){return"play-audio"===e.name&&e.payload.file.length>0}}]),t}(f["default"]);n["default"]=c},{"../bases/EventBaseLayer":5}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/DOFBaseLayer"),f=r(i),y={layerType:"Background Texture",properties:{Texture:{type:"texture",defaultValue:"",blendOperation:"lastOneWins"},Color:{type:"rgb",defaultValue:{r:255,g:255,b:255},blendOperation:"add"}},dofs:{screenBGTextureInfixBn_r:!0,screenBG_redChannelBn_r:!0,screenBG_greenChannelBn_r:!0,screenBG_blueChannelBn_r0:!0}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateDofs",value:function(e){return{screenBGTextureInfixBn_r:e.Texture,screenBG_redChannelBn_r:e.Color.r/255,screenBG_greenChannelBn_r:e.Color.g/255,screenBG_blueChannelBn_r:e.Color.b/255}}}]),t}(f["default"]);n["default"]=c},{"../bases/DOFBaseLayer":4}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/DOFBaseLayer"),f=r(i),y=[{display:"linear",label:"Linear Tween",value:"linear"},{display:"sine in",label:"Sine Ease In",value:"sineIn"},{display:"sine out",label:"Sine Ease Out",value:"sineOut"},{display:"sine in out",label:"Sine Ease In Out",value:"sineInOut"},{display:"cubic in",label:"Cubic Ease In",value:"cubicIn"},{display:"cubic out",label:"Cubic Ease Out",value:"cubicOut"},{display:"cubic in out",label:"Cubic Ease In Out",value:"cubicInOut"}],c={type:{name:"enum",values:y},defaultValue:y[3],blendOperation:"none"},s={type:"float",defaultValue:0,blendOperation:"add"},v={layerType:"Body",properties:{Head:s,Torso:s,Pelvis:s,Tween:c},dofs:{topSection_r:!0,middleSection_r:!0,bottomSection_r:!0}},p=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return v}}]),l(t,null,[{key:"generateDofs",value:function(e){return{topSection_r:e.Head/180*Math.PI,middleSection_r:e.Torso/180*Math.PI,bottomSection_r:e.Pelvis/180*Math.PI}}}]),t}(f["default"]);n["default"]=p},{"../bases/DOFBaseLayer":4}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/EventBaseLayer"),f=r(i),y={layerType:"Event",properties:{Event:{type:"event",defaultValue:{name:"",payload:""}}}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateEvent",value:function(e){var t={name:0===e.Event.name.length?"":e.Event.name,payload:{}};if(e.Event.payload.length>0)try{t.payload=JSON.parse(e.Event.payload)}catch(n){t.payload=e.Event.payload}return t}},{key:"isValid",value:function(e){return 0!==e.name.length}}]),t}(f["default"]);n["default"]=c},{"../bases/EventBaseLayer":5}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("lodash"),y=r(f),c=e("../bases/DOFBaseLayer"),s=r(c),v=e("../utils/Conversion"),p=r(v),d=0,b=0,_=300,h=300,x=[{display:"linear",label:"Linear Tween",value:"linear"},{display:"sine in",label:"Sine Ease In",value:"sineIn"},{display:"sine out",label:"Sine Ease Out",value:"sineOut"},{display:"sine in out",label:"Sine Ease In Out",value:"sineInOut"},{display:"cubic in",label:"Cubic Ease In",value:"cubicIn"},{display:"cubic out",label:"Cubic Ease Out",value:"cubicOut"},{display:"cubic in out",label:"Cubic Ease In Out",value:"cubicInOut"}],O={type:{name:"enum",values:x},defaultValue:x[3],blendOperation:"none"},g=function(e,t){return{type:"vector2",defaultValue:{x:e,y:t},blendOperation:"add"}},m={properties:{Rotate:{type:"float",defaultValue:0,blendOperation:"add"},Scale:{type:"vector2",defaultValue:{x:1,y:1},blendOperation:"multiply"},Translate:{type:"vector2",defaultValue:{x:d,y:b},blendOperation:"add"},Tween:O,"Vertex 1":g(-_,-h),"Vertex 2":g(0,-h),"Vertex 3":g(_,-h),"Vertex 4":g(-_,0),"Vertex 5":g(0,0),"Vertex 6":g(_,0),"Vertex 7":g(-_,h),"Vertex 8":g(0,h),"Vertex 9":g(_,h)}},E=function(e){function t(){return a(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),i(t,null,[{key:"_generateDofs",value:function(e,t){var n;return n={},o(n,t+"vertexJoint1_t",p["default"].toMetersX(e["Vertex 1"].x)*e.Scale.x),o(n,t+"vertexJoint1_t_2",p["default"].toMetersY(e["Vertex 1"].y)*e.Scale.y),o(n,t+"vertexJoint2_t",p["default"].toMetersX(e["Vertex 2"].x)*e.Scale.x),o(n,t+"vertexJoint2_t_2",p["default"].toMetersY(e["Vertex 2"].y)*e.Scale.y),o(n,t+"vertexJoint3_t",p["default"].toMetersX(e["Vertex 3"].x)*e.Scale.x),o(n,t+"vertexJoint3_t_2",p["default"].toMetersY(e["Vertex 3"].y)*e.Scale.y),o(n,t+"vertexJoint4_t",p["default"].toMetersX(e["Vertex 4"].x)*e.Scale.x),o(n,t+"vertexJoint4_t_2",p["default"].toMetersY(e["Vertex 4"].y)*e.Scale.y),o(n,t+"vertexJoint5_t",p["default"].toMetersX(e["Vertex 5"].x)*e.Scale.x),o(n,t+"vertexJoint5_t_2",p["default"].toMetersY(e["Vertex 5"].y)*e.Scale.y),o(n,t+"vertexJoint6_t",p["default"].toMetersX(e["Vertex 6"].x)*e.Scale.x),o(n,t+"vertexJoint6_t_2",p["default"].toMetersY(e["Vertex 6"].y)*e.Scale.y),o(n,t+"vertexJoint7_t",p["default"].toMetersX(e["Vertex 7"].x)*e.Scale.x),o(n,t+"vertexJoint7_t_2",p["default"].toMetersY(e["Vertex 7"].y)*e.Scale.y),o(n,t+"vertexJoint8_t",p["default"].toMetersX(e["Vertex 8"].x)*e.Scale.x),o(n,t+"vertexJoint8_t_2",p["default"].toMetersY(e["Vertex 8"].y)*e.Scale.y),o(n,t+"vertexJoint9_t",p["default"].toMetersX(e["Vertex 9"].x)*e.Scale.x),o(n,t+"vertexJoint9_t_2",p["default"].toMetersY(e["Vertex 9"].y)*e.Scale.y),n}},{key:"extend",value:function(e){return y["default"].extend({},m,e)}}]),t}(s["default"]);n["default"]=E},{"../bases/DOFBaseLayer":4,"../utils/Conversion":20,lodash:void 0}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./EyeAndOverlayLayer"),f=r(i),y=e("../utils/Conversion"),c=r(y),s=f["default"].extend({layerType:"Eye",dofs:{eyeSubRootBn_r:!0,eyeSubRootBn_t:!0,eyeSubRootBn_t_2:!0,vertexJoint1_t:!0,vertexJoint1_t_2:!0,vertexJoint2_t:!0,vertexJoint2_t_2:!0,vertexJoint3_t:!0,vertexJoint3_t_2:!0,vertexJoint4_t:!0,vertexJoint4_t_2:!0,vertexJoint5_t:!0,vertexJoint5_t_2:!0,vertexJoint6_t:!0,vertexJoint6_t_2:!0,vertexJoint7_t:!0,vertexJoint7_t_2:!0,vertexJoint8_t:!0,vertexJoint8_t_2:!0,vertexJoint9_t:!0}}),v=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return s}},{key:"generateDofs",value:function(e){var t=f["default"]._generateDofs(e,"");return t.eyeSubRootBn_r=e.Rotate/180*Math.PI,t.eyeSubRootBn_t=c["default"].toMetersX(e.Translate.x),t.eyeSubRootBn_t_2=c["default"].toMetersY(e.Translate.y),t}}]),t}(f["default"]);n["default"]=v},{"../utils/Conversion":20,"./EyeAndOverlayLayer":10}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/DOFBaseLayer"),f=r(i),y={layerType:"Eye Texture",properties:{Texture:{type:"texture",defaultValue:"animations/textures/white-eye.png",blendOperation:"lastOneWins"},Color:{type:"rgb",defaultValue:{r:255,g:255,b:255},blendOperation:"add"}},dofs:{eyeTextureInfixBn_r:!0,eye_redChannelBn_r:!0,eye_greenChannelBn_r:!0,eye_blueChannelBn_r:!0}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateDofs",value:function(e){return{eyeTextureInfixBn_r:e.Texture,eye_redChannelBn_r:e.Color.r/255,eye_greenChannelBn_r:e.Color.g/255,eye_blueChannelBn_r:e.Color.b/255}}}]),t}(f["default"]);n["default"]=c},{"../bases/DOFBaseLayer":4}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/DOFBaseLayer"),f=r(i),y={layerType:"LED",properties:{Color:{type:"rgb",defaultValue:{r:255,g:255,b:255},blendOperation:"add"}},dofs:{lightring_redChannelBn_r:!0,lightring_greenChannelBn_r:!0,lightring_blueChannelBn_r:!0}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateDofs",value:function(e){return{lightring_redChannelBn_r:e.Color.r/255,lightring_greenChannelBn_r:e.Color.g/255,lightring_blueChannelBn_r:e.Color.b/255}}}]),t}(f["default"]);n["default"]=c},{"../bases/DOFBaseLayer":4}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./EyeAndOverlayLayer"),f=r(i),y=e("../utils/Conversion"),c=r(y),s=f["default"].extend({layerType:"Overlay",dofs:{overlay_textureSubRootBn_r:!0,overlay_textureSubRootBn_t:!0,overlay_textureSubRootBn_t_2:!0,overlay_vertexJoint1_t:!0,overlay_vertexJoint1_t_2:!0,overlay_vertexJoint2_t:!0,overlay_vertexJoint2_t_2:!0,overlay_vertexJoint3_t:!0,overlay_vertexJoint3_t_2:!0,overlay_vertexJoint4_t:!0,overlay_vertexJoint4_t_2:!0,overlay_vertexJoint5_t:!0,overlay_vertexJoint5_t_2:!0,overlay_vertexJoint6_t:!0,overlay_vertexJoint6_t_2:!0,overlay_vertexJoint7_t:!0,overlay_vertexJoint7_t_2:!0,overlay_vertexJoint8_t:!0,overlay_vertexJoint8_t_2:!0,overlay_vertexJoint9_t:!0}}),v=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return s}},{key:"generateDofs",value:function(e){var t=f["default"]._generateDofs(e,"overlay_");return t.overlay_textureSubRootBn_r=e.Rotate/180*Math.PI,t.overlay_textureSubRootBn_t=c["default"].toMetersX(e.Translate.x),t.overlay_textureSubRootBn_t_2=c["default"].toMetersY(e.Translate.y),t}}]),t}(f["default"]);n["default"]=v},{"../utils/Conversion":20,"./EyeAndOverlayLayer":10}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/DOFBaseLayer"),f=r(i),y={layerType:"Overlay Texture",properties:{Texture:{type:"texture",defaultValue:"animations/textures/lens.png",blendOperation:"lastOneWins"},Color:{type:"rgb",defaultValue:{r:255,g:255,b:255},blendOperation:"add"}},dofs:{overlayTextureInfixBn_r:!0,overlay_redChannelBn_r:!0,overlay_greenChannelBn_r:!0,overlay_blueChannelBn_r:!0}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateDofs",value:function(e){return{overlayTextureInfixBn_r:e.Texture,overlay_redChannelBn_r:e.Color.r/255,overlay_greenChannelBn_r:e.Color.g/255,overlay_blueChannelBn_r:e.Color.b/255}}}]),t}(f["default"]);n["default"]=c},{"../bases/DOFBaseLayer":4}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../bases/EventBaseLayer"),f=r(i),y={layerType:"Pixi",properties:{Pixi:{type:"pixi",defaultValue:"",blendOperation:"singleton"}},dofs:{}},c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).call(this))}return u(t,e),l(t,null,[{key:"getInfo",value:function(){return y}}]),l(t,null,[{key:"generateEvent",value:function(e,t){var n={name:"play-pixi",payload:{file:e.Pixi,layerNum:t}};return n}},{key:"isValid",value:function(e){return"play-pixi"===e.name&&e.payload.file.length>0}}]),t}(f["default"]);n["default"]=c},{"../bases/EventBaseLayer":5}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={lastOneWins:{texture:function(e,t){return t}},add:{"float":function(e,t,n){return e+(t-n)},vector2:function(e,t,n){return{x:e.x+(t.x-n.x),y:e.y+(t.y-n.y)}},rgb:function(e,t,n){return{r:e.h+(t.r-n.r),g:e.s+(t.g-n.g),b:e.v+(t.b-n.b)}}},multiply:{"float":function(e,t){return e*t},vector2:function(e,t){return{x:e.x*t.x,y:e.y*t.y}},rgb:function(e,t){return{r:e.r*t.r,g:e.g*t.g,b:e.b*t.b}}},singleton:{video:function(e,t){return t}},inverse:{lastOneWins:{texture:function(e){return e}},singleton:{video:function(e){return e}},add:{"float":function(e,t,n){return t+n-e},vector2:function(e,t,n){return{x:t.x+n.x-e.x,y:t.y+n.y-e.y}},rgb:function(e,t,n){return{r:t.r+n.r-e.r,g:t.g+n.g-e.g,b:t.b+n.b-e.b}}},multiply:{"float":function(e,t){return e/t},vector2:function(e,t){return{x:t.x/e.x,y:t.y/e.y}},rgb:function(e,t){return{r:t.h/e.r,g:t.s/e.g,b:t.v/e.b}}}}},u=function(){function e(){r(this,e)}return o(e,null,[{key:"inverse",value:function(e,t){return a.inverse[e][t]}},{key:"normal",value:function(e,t){return a[e][t]}}]),e}();n["default"]=u},{}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={topSection_r:{type:"Body",name:"Head"},middleSection_r:{type:"Body",name:"Torso"},bottomSection_r:{type:"Body",name:"Pelvis"},eyeSubRootBn_r:{type:"Eye",name:"Rotate"},eyeSubRootBn_t:{type:"Eye",name:"Translate"},eyeSubRootBn_t_2:{type:"Eye",name:"Translate"},vertexJoint1_t:{type:"Eye"},vertexJoint1_t_2:{type:"Eye"},vertexJoint2_t:{type:"Eye"},vertexJoint2_t_2:{type:"Eye"},vertexJoint3_t:{type:"Eye"},vertexJoint3_t_2:{type:"Eye"},vertexJoint4_t:{type:"Eye"},"vertexJoint4_t_2`":{type:"Eye"},vertexJoint5_t:{type:"Eye"},vertexJoint5_t_2:{type:"Eye"},vertexJoint6_t:{type:"Eye"},vertexJoint6_t_2:{type:"Eye"},vertexJoint7_t:{type:"Eye"},vertexJoint7_t_2:{type:"Eye"},vertexJoint8_t:{type:"Eye"},vertexJoint8_t_2:{type:"Eye"},vertexJoint9_t:{type:"Eye"},vertexJoint9_t_2:{type:"Eye"},eyeTextureInfixBn_r:{type:"Eye Texture"},eye_redChannelBn_r:{type:"Eye Texture"},eye_greenChannelBn_r:{type:"Eye Texture"},eye_blueChannelBn_r:{type:"Eye Texture"},overlay_textureSubRootBn_r:{type:"Overlay",name:"Rotate"},overlay_textureSubRootBn_t:{type:"Overlay",name:"Translate"},overlay_textureSubRootBn_t_2:{type:"Overlay",name:"Translate"},overlay_vertexJoint1_t:{type:"Overlay"},overlay_vertexJoint1_t_2:{type:"Overlay"},overlay_vertexJoint2_t:{type:"Overlay"},overlay_vertexJoint2_t_2:{type:"Overlay"},overlay_vertexJoint3_t:{type:"Overlay"},overlay_vertexJoint3_t_2:{type:"Overlay"},overlay_vertexJoint4_t:{type:"Overlay"},overlay_vertexJoint4_t_2:{type:"Overlay"},overlay_vertexJoint5_t:{type:"Overlay"},overlay_vertexJoint5_t_2:{type:"Overlay"},overlay_vertexJoint6_t:{type:"Overlay"},overlay_vertexJoint6_t_2:{type:"Overlay"},overlay_vertexJoint7_t:{type:"Overlay"},overlay_vertexJoint7_t_2:{type:"Overlay"},overlay_vertexJoint8_t:{type:"Overlay"},overlay_vertexJoint8_t_2:{type:"Overlay"},overlay_vertexJoint9_t:{type:"Overlay"},overlay_vertexJoint9_t_2:{type:"Overlay"},overlayTextureInfixBn_r:{type:"Overlay Texture"},overlay_redChannelBn_r:{type:"Overlay Texture"},overlay_greenChannelBn_r:{type:"Overlay Texture"},overlay_blueChannelBn_r:{type:"Overlay Texture"},screenBGTextureInfixBn_r:{type:"Background Texture"},screenBG_redChannelBn_r:{type:"Background Texture"},screenBG_greenChannelBn_r:{type:"Background Texture"},screenBG_blueChannelBn_r:{type:"Background Texture"},lightring_redChannelBn_r:{type:"LED"},lightring_greenChannelBn_r:{type:"LED"},lightring_blueChannelBn_r:{type:"LED"}},u=function(){function e(){r(this,e)}return o(e,null,[{key:"dofNameToDisplayType",value:function(e){return a[e].type}},{key:"dofNameToDisplayName",value:function(t){var n=a[t].name;return void 0!==n?n:e.dofNameToDisplayType(t)}},{key:"displayNameToDof",value:function(e){for(var t in a)if(a[t].name===e)return t}},{key:"radiansToDegrees",value:function(e){return e/Math.PI*180}},{key:"degreesToRadians",value:function(e){return e/180*Math.PI}},{key:"framesToSeconds",value:function(e,t){return e/t}},{key:"secondsToFrames",value:function(e,t,n){return Math.round(e/t*n)}},{key:"toTextureURL",value:function(e,t){return this.baseTextureURL+this.getPaddedValueString(t)+".png"}},{key:"toBGTextureURL",value:function(e,t){return this.baseBGURL+this.getPaddedValueString(t)+".png"}}]),e}();n["default"]=u},{}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("color-space/hsv"),l=r(u),i=function(){function e(){o(this,e)}return a(e,null,[{key:"hsvToRgb",value:function(e,t,n){var r=l["default"].rgb([e,t,n]);return{r:r[0],g:r[1],b:r[2]}}}]),e}();n["default"]=i},{"color-space/hsv":void 0}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=.13002148,u=.073142126,l=1280,i=720,f=function(){function e(){r(this,e)}return o(e,null,[{key:"toMetersX",value:function(e){return e/l*a}},{key:"toMetersY",value:function(e){return e/i*u*-1}},{key:"toPixelsX",value:function(e){return e/a*l}},{key:"toPixelsY",value:function(e){return e/u*i*-1}}]),e}();n["default"]=f},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("uuid"),l=r(u),i=function(){function e(){o(this,e)}return a(e,null,[{key:"create",value:function(){return l["default"].v4().replace(/-/g,"")}}]),e}();n["default"]=i},{uuid:void 0}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("fs"),l=r(u),i=e("path"),f=r(i),y=e("../JiboKeyframeInfo"),c=r(y),s=e("./Channels"),v=r(s),p=e("../Runtime"),d=r(p),b={header:{fileType:"Animation",version:"0.001",creationTime:1418336756906},content:{name:"AnythingElse_01.dae",channels:[],events:[]}},_=function(){function e(){o(this,e)}return a(e,null,[{key:"keysToAnimObjectAsync",value:function(t,n){l["default"].readFile(t,"utf8",function(r,o){if(r)console.log('\nError parsing "'+t+'". '+r+"\n"),process.exit(1);else{var a=JSON.parse(o);c["default"].onLoad(a);var u=f["default"].basename(t),l=e.keysObjToAnimObject(a,u);n(l)}})}},{key:"keysToAnim",value:function(t,n){console.log(t);var r=e.keysToAnimObject(t);try{l["default"].writeFileSync(n,JSON.stringify(r,null,"    "),"utf8")}catch(o){console.log("\nERROROROROROR\n"),process.exit(1)}}},{key:"keysToAnimObject",value:function(t){var n=void 0;try{n=JSON.parse(l["default"].readFileSync(t,"utf8")),c["default"].onLoad(n)}catch(r){console.log('\nError parsing "'+t+'". '+r+"\n"),process.exit(1)}var o=f["default"].basename(t);return e.keysObjToAnimObject(n,o)}},{key:"keysObjToAnimObject",value:function(e,t){b.header.creationTime=(new Date).getTime(),b.header.version=e.version,b.content.name=t,b.content.channels=[],b.content.events=[];for(var n={},r=0;r<e.duration;r++){var o=v["default"].framesToSeconds(r,e.framerate),a=d["default"].evaluateAllDOFLayers(e,c["default"],o),u=d["default"].evaluateAllEventLayers(e,c["default"],o);for(var l in a)"undefined"==typeof n[l]?(n[l]={dofName:l,length:e.duration/e.framerate,times:[o],values:[a[l]]},b.content.channels.push(n[l])):(n[l].times.push(o),n[l].values.push(a[l]));for(var i=0;i<u.length;i++){var f={time:o,eventName:u[i].name,payload:u[i].payload};b.content.events.push(f)}}return b}}]),e}();n["default"]=_},{"../JiboKeyframeInfo":1,"../Runtime":2,"./Channels":18,fs:void 0,path:void 0}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return o(e,null,[{key:"keyframeSearch",value:function(e,t){for(var n=0,r=e.length-2,o=void 0;r>=n;)if(o=Math.floor((n+r)/2),t>=e[o+1].time)n=o+1;else{if(!(t<e[o].time))return{start:o,end:o+1};r=o-1}}},{key:"keyframeSearchAbsolute",value:function(e,t){if(0!==e.length)for(var n=0,r=e.length-1,o=void 0;r>=n;){o=Math.floor((n+r)/2);var a=e[o].time;if(t===a)return o;t>a?n=o+1:r=o-1}}}]),e}();n["default"]=a},{}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("lodash"),l=r(u),i=e("eases"),f=r(i),y=l["default"].clone(f["default"]);y.snap=function(){return 0};var c=function(){function e(){o(this,e)}return a(e,null,[{key:"getEasingFunc",value:function(e){return"function"==typeof e?e:y[e]}},{key:"float",value:function(t,n,r,o){var a=e.getEasingFunc(o)(r);return t*(1-a)+n*a}},{key:"vector2",value:function(t,n,r,o){var a=e.getEasingFunc(o)(r);return{x:t.x*(1-a)+n.x*a,y:t.y*(1-a)+n.y*a}}},{key:"rgb",value:function(t,n,r,o){var a=e.getEasingFunc(o)(r);return{r:t.r*(1-a)+n.r*a,g:t.g*(1-a)+n.g*a,b:t.b*(1-a)+n.b*a}}},{key:"color",value:function(t,n,r){var o=e.getEasingFunc("linear")(r);return t*(1-o)+n*o}},{key:"texture",value:function(e){return e}},{key:"video",value:function(e){return e}},{key:"enum",value:function(e){return e}},{key:"pixi",value:function(e){return e}}]),e}();n["default"]=c},{eases:void 0,lodash:void 0}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./utils/KeysUtils"),a=r(o),u=e("./utils/Channels"),l=r(u),i=e("./utils/IDUtils"),f=r(i),y=e("./utils/Conversion"),c=r(y),s=e("./JiboKeyframeInfo"),v=r(s),p=e("./Runtime"),d=r(p);n["default"]={JiboKeyframeInfo:v["default"],keysToAnimObject:a["default"].keysToAnimObject,keysToAnimObjectAsync:a["default"].keysToAnimObjectAsync,keysObjToAnimObject:a["default"].keysObjToAnimObject,keysToAnim:a["default"].keysToAnim,runtime:d["default"],channels:l["default"],generateId:f["default"].create,conversion:c["default"]}},{"./JiboKeyframeInfo":1,"./Runtime":2,"./utils/Channels":18,"./utils/Conversion":20,"./utils/IDUtils":21,"./utils/KeysUtils":22}]},{},[25])(25)});